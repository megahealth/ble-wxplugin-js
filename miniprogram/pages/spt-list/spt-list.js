"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp2,_createClass=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),_get=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},_index=require("../../npm/@tarojs/taro-weapp/index.js"),_index2=_interopRequireDefault(_index),_index3=require("../../npm/@tarojs/redux/index.js"),_api=require("../../service/api.js"),_api2=_interopRequireDefault(_api);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Login=(_temp2=_class=function(){function a(){var t,e,n;_classCallCheck(this,a);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=n=_possibleConstructorReturn(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(o)))).$usedState=["loopArray1","loopArray2","list","user"],n.config={navigationBarTitleText:"报告列表"},n.customComponents=[],_possibleConstructorReturn(n,e)}return _inherits(a,_index.Component),_createClass(a,[{key:"_constructor",value:function(t){_get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"_constructor",this).call(this,t),this.state={list:[]},this.$$refs=[]}},{key:"componentDidMount",value:function(){var e=this,t=this.props.user;_api2.default.get("/classes/SptData?where=%7B%22userId%22%3A%22"+t.objectId+"%22%7D?keys=-data&order=-updatedAt").then(function(t){console.log(t.data),e.setState({list:t.data.results})}).catch(function(t){return console.error(t)})}},{key:"componentWillUnmount",value:function(){}},{key:"_createData",value:function(t,e,n){var r=this;this.__state=t||this.state||{},this.__props=e||this.props||{};this.$prefix;var o=this.__state.list.map(function(t,e){return t={$original:(0,_index.internal_get_original)(t)},t={$original:(0,_index.internal_get_original)(t.$original)},{$loopState__temp2:0<r.__state.list.length?r.getx(t.$original.createdAt):null,$original:t.$original}}),i=0<this.__state.list.length?this.__state.list.map(function(t,e){return t={$original:(0,_index.internal_get_original)(t)},t={$original:(0,_index.internal_get_original)(t.$original)},{$loopState__temp2:0<r.__state.list.length?r.getx(t.$original.createdAt):null,$original:t.$original}}):[];return Object.assign(this.__state,{loopArray1:o,loopArray2:i}),this.__state}},{key:"goDetil",value:function(t){_index2.default.navigateTo({url:"/pages/spt-detail/spt-detail?objectId="+t.objectId})}},{key:"getx",value:function(t){t=new Date(t);function e(t){return(t=t.toString())[1]?t:"0"+t}var n="Y/M/D h:m:s",r=["Y","M","D","h","m","s"],o=[];for(var i in o.push(t.getFullYear()),o.push(e(t.getMonth()+1)),o.push(e(t.getDate())),o.push(e(t.getHours())),o.push(e(t.getMinutes())),o.push(e(t.getSeconds())),o)n=n.replace(r[i],o[i]);return n}}]),a}(),_class.$$events=["goDetil"],_class.$$componentPath="pages/spt-list/spt-list",_temp2),mapState=function(t){return{user:t.ble.user}},mapDispatch=function(t){return{}},Login__Connected=(0,_index3.connect)(mapState,mapDispatch)(Login);exports.default=Login__Connected,Component(require("../../npm/@tarojs/taro-weapp/index.js").default.createComponent(Login__Connected,!0));